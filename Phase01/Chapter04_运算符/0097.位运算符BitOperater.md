# 例子

```java
int a=1>>2; // 1 向右位移2 位
int b=-1>>2;//算术右移
int c=1<<2;//算术左移
int d=-1<<2;//
int e=3>>>2;//无符号右移
//a,b,c,d,e 结果是多少
System.out.println("a="+a);
System.out.println("b="+b);
System.out.println("c="+c);
System.out.println("d="+d);
System.out.println("e="+e);


~2=? // 按位取反 , 按 bit 取反
2&3=?// 2 按位与3
2|3=?
~-5=?
13&7=?
5|4=?
-3^3=?//^ 按位异或
```

# 原码、反码、补码

![](..\Image\0097_01_原码反码补码的运算规定.png)

# 位运算符和进制结合

## java 中有7 个位运算(&、|、^、~、>>、<<和>>>)

![](..\Image\0097_01_位运算符的种类.png)

```java
System.out.println(2 & 3); 显示的结果为2， 为正数

2是一个int型变量 并且是正整数 占四个字节 三码合一

int 类型占4 byte= 32 bits
2的
原码：00000000 00000000 00000000 000000010  // 2 为正数，则符号位为 0， 位于 00000000 00000000 00000000 000000010  中最左边的那个0。
// 2转化为2进制为10。 ，放在32bit中就是00000000 00000000 00000000 000000010
反码：00000000 00000000 00000000 000000010
补码：00000000 00000000 00000000 000000010

3的
原码：00000000 00000000 00000000 00000011
反码：00000000 00000000 00000000 00000011
补码：00000000 00000000 00000000 00000011

在运算是是两数的补码进行运算
     00000000 00000000 00000000 000000010
     00000000 00000000 00000000 000000011
得到：00000000 00000000 00000000 000000010 

符号位是0所以是一个正整数 三码合一
所以00000000 00000000 00000000 000000010  转换成十进制是2 =
```

```java
System.out.println(~ -2); // 答案是1， 为正数

-2是一个int型变量 并且是负整数 占四个字节 
-2的原码：10000000 00000000 00000000 000000010 
-2的反码：11111111 11111111 11111111 111111101 
-2的补码：11111111 11111111 11111111 111111110  
~ -2 操作（进行按位 对 -2的补码， 符号位也取反）
得到：00000000 00000000 00000000 000000001
上面的为运算后得到的补码
将上面的补码转为原码 

因为正数的 三码合一。 所以补码和原码长的一样，为
00000000 00000000 00000000 000000001

转换为十进制为 1
```

```java
System.out.println(~ 2); // 结果为 -3

2是一个int型变量 并且是正整数 占四个字节 三码合一
原码：00000000 00000000 00000000 000000010
反码：00000000 00000000 00000000 000000010
补码：00000000 00000000 00000000 000000010
~2： 进行按位取反
得到：11111111 11111111 11111111 11111101， 即为得到的补码

符号位是1 (11111111 11111111 11111111 11111101 中最左边的1)所以是一个负整数，输出时需要将补码转换成原码
反码是 补码-1，码转换时注意符号位不变

补码（上面已经算好） 11111111 11111111 11111111 11111101
反码：11111111 11111111 11111111 11111100
原码：10000000 00000000 00000000 00000011
所以  10000000 00000000 00000000 00000011 转换成十进制是-3
```

## java还有3 个位移运算符>>、<< 和>>>

运算规则:

1) 算术右移  \>\>
   
   1) 5>>2, 就是 5 的 二进制码 向右移动两位
   2) 低位溢出,符号位不变,并用符号位补溢出的高位

2) 算术左移<<
   
   2) 符号位不变,低位补0

3) \> \> \> 逻辑右移也叫无符号右移,运算规则是: 低位溢出，高位补0， 符号位可以变，可以移动

4) 特别说明：没有<<< 符号

5)  正整数右移一位相当于 给出的数/2，正整数左移一位相当于给出的数*2

6) **而负数在计算机中采用补码表示**

```java
System.out.println( 1 >> 2); // 结果为0
正整数右移一位相当于 给出的数/2

1
符位为 0
原码：0000000 00000000 00000000 00000001
反码：0000000 00000000 00000000 00000001
补码：0000000 00000000 00000000 00000001


上面的补码
右移一位(高位用符号位0来补全
0000000 00000000 00000000 00000000
右移两位
0000000 00000000 00000000 00000000

0000000 00000000 00000000 00000000 的反码：
0000000 00000000 00000000 00000000

再由反码转为原码：
0000000 00000000 00000000 00000001
转换为10进制是+0
```

```java
System.out.println( 1 << 2); // 结果为4
正整数左移一位相当于给出的数*2
1
符位为 0
原码：0000000 00000000 00000000 00000001
反码：0000000 00000000 00000000 00000001
补码：0000000 00000000 00000000 00000001


上面的补码
左移一位(高位用符号位0来补全
0000000 00000000 00000000 00000010
左移两位
0000000 00000000 00000000 00000100

0000000 00000000 00000000 00000100 的反码：
0000000 00000000 00000000 00000100

再由反码转为原码：
0000000 00000000 00000000 00000100
转换为10进制是+4

==============
同样的 System.out.println( 4 << 3) 结果为 4*2 *2*2  = 16 
```

```java
System.out.println( -5 >> 2); // -2

-5
符号位为 1
原码：1000 0000 0000 0101
反码：1111 1111 1111 1010
补码：1111 1111 1111 1011

上面的补码
右移一位(高位用符号位1来补全
1111 1111 1111 1101
右移两位
1111 1111 1111 1110

1111 1111 1111 1110 的反码：
1111 1111 1111 1101

结果的原码：
1000 0000 0000 0010
转换为10进制是-2

==============
类似的的 System.out.println( 15 >> 2 ) 结果为 15/2/2  = 3 
```
